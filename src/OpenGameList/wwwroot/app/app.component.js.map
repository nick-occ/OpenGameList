{"version":3,"sources":["app.component.ts"],"names":["AppComponent","router","authService","zone","this","title","window","externalProviderLogin","self","auth","run","prototype","isActive","data","createUrlTree","logout","_this","subscribe","result","navigate","setAuth","console","log","getAuth","providerName","__decorate","core_1","Component","selector","template","exports_1"],"mappings":"+7BAqDAA,aAAA,WAGI,QAAAA,cAAmBC,OACRC,YACAC,MACP,GAHeC,KAAAH,OAAAA,OACRG,KAAAF,YAAAA,YACAE,KAAAD,KAAAA,KAJXC,KAAAC,MAAQ,gBAKOC,OAAQC,sBAAuB,CACtC,GAAIC,MAAOJ,IACLE,QAAQC,sBAAwB,SAAUE,MAC5CD,KAAKL,KAAKO,IAAI,WACVF,KAAKD,sBAAsBE,UA4B/C,MAtBIT,cAAAW,UAAAC,SAAA,SAASC,MACL,MAAOT,MAAKH,OAAOW,SACfR,KAAKH,OAAOa,cAAcD,OAC1B,IAIRb,aAAAW,UAAAI,OAAA,WAAA,GAAAC,OAAAZ,IAOI,OALAA,MAAKF,YAAYa,SAASE,UAAU,SAAAC,QAC5BA,QACAF,MAAKf,OAAOkB,UAAU,QAGvB,GAGXnB,aAAAW,UAAAJ,sBAAA,SAAsBE,MAClBL,KAAKF,YAAYkB,QAAQX,MACzBY,QAAQC,IAAI,wCAA0ClB,KAAKF,YAAYqB,UAAUC,cACjFpB,KAAKH,OAAOkB,UAAU,MArF9BnB,aAAAyB,YAACC,OAAAC,WACGC,SAAU,eACVC,SAAU,ujFA+CdC,UAAA,eAAA9B","file":"app.component.js","sourcesContent":["import { AuthService } from \"./auth.service\";\r\nimport { Component, NgZone } from \"@angular/core\";\r\nimport { Router } from \"@angular/router\"; \r\n\r\n@Component({\r\n    selector: \"opengamelist\",\r\n    template: ` \r\n        <nav class=\"navbar navbar-default navbar-fixed-top\"> \r\n            <div class=\"container-fluid\"> \r\n                <input type=\"checkbox\" id=\"navbar-toggle-cbox\"> \r\n                <div class=\"navbar-header\"> \r\n                    <label for=\"navbar-toggle-cbox\" class=\"navbar-toggle collapsed\" data-toggle=\"collapse\" data-target=\"#navbar\" aria-expanded=\"false\" aria-controls=\"navbar\"> \r\n                        <span class=\"sr-only\">Toggle navigation</span> \r\n                        <span class=\"icon-bar\"></span> \r\n                        <span class=\"icon-bar\"></span> \r\n                        <span class=\"icon-bar\"></span> \r\n                    </label> \r\n                    <a class=\"navbar-brand\" href=\"#\"> \r\n                        <img alt=\"logo\" src=\"/img/logo.svg\" /> \r\n                    </a> \r\n                </div> \r\n                <div class=\"collapse navbar-collapse\" id=\"navbar\"> \r\n                    <ul class=\"nav navbar-nav\"> \r\n                        <li [class.active]=\"isActive([''])\">\r\n                            <a class=\"home\" [routerLink]=\"['']\">Home</a>\r\n                        </li> \r\n                        <li [class.active]=\"isActive(['about'])\">\r\n                            <a class=\"about\" [routerLink]=\"['about']\">About</a>\r\n                        </li> \r\n                         <li *ngIf=\"authService.isLoggedIn()\" [class.active]=\"isActive(['item/edit', 0])\">\r\n                            <a class=\"add\" [routerLink]=\"['item/edit', 0]\">Add New</a>\r\n                        </li>\r\n                        <li *ngIf=\"!authService.isLoggedIn()\" [class.active]=\"isActive(['login']) || isActive(['register'])\">\r\n                            <a class=\"login\" [routerLink]=\"['login']\">Login / Register</a>\r\n                        </li>\r\n                        <li *ngIf=\"authService.isLoggedIn()\">\r\n                            <a class=\"logout\" href=\"javascript:void(0)\"(click)=\"logout()\">Logout</a>\r\n                        </li>\r\n                       \r\n                        <li *ngIf=\"authService.isLoggedIn()\" class=\"right\" [class.active]=\"isActive(['account'])\"> \r\n                            <a [routerLink]=\"['account']\">Edit Account</a> \r\n                        </li> \r\n                    </ul> \r\n                </div> \r\n            </div> \r\n        </nav> \r\n        <h1 class=\"header\">{{title}}</h1> \r\n        <div class=\"main-container\"> \r\n            <router-outlet></router-outlet> \r\n        </div> \r\n    `\r\n})\r\n\r\nexport class AppComponent {\r\n    title = \"OpenGameList\";\r\n\r\n    constructor(public router: Router,\r\n        public authService: AuthService,\r\n        public zone: NgZone) {\r\n        if (!(<any>window).externalProviderLogin) {\r\n            var self = this;\r\n            (<any>window).externalProviderLogin = function (auth) {\r\n                self.zone.run(() => {\r\n                    self.externalProviderLogin(auth);\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    isActive(data: any[]): boolean {\r\n        return this.router.isActive(\r\n            this.router.createUrlTree(data),\r\n            true);\r\n    } \r\n\r\n    \r\n    logout(): boolean {\r\n        // logs out the user, then redirects him to Welcome View. \r\n        this.authService.logout().subscribe(result => {\r\n            if (result) {\r\n                this.router.navigate([\"\"]);\r\n            }\r\n        });\r\n        return false;\r\n    }\r\n\r\n    externalProviderLogin(auth: any) {\r\n        this.authService.setAuth(auth);\r\n        console.log(\"External Login successful! Provider: \" + this.authService.getAuth().providerName);\r\n        this.router.navigate([\"\"]);\r\n    } \r\n} "]}